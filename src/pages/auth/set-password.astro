---
import { Button } from "../../components/ui/react/button";
import { Input } from "../../components/ui/react/input";
import AuthLayout from "../../layouts/AuthLayout.astro";
import Text from "../../components/Text.astro";

const token = Astro.url.searchParams.get('token');

---

<AuthLayout title="Set your password | Pillar Bids">
  <div
    class="flex flex-col h-full justify-center self-center items-center align-middle"
    slot="auth-slot"
  >
    <form
      action="/api/auth/set-password"
      method="post"
      class="flex flex-col w-full justify-center self-center items-center align-middle"
    >
      <Text type="h4" content="Set your password" />
      <Text
        type="p"
        content="Login with your email and account password"
        className="muted text-[14px]"
      />
      <input value={token} hidden read-only name="token" />
      <Input
        type="password"
        placeholder="Password"
        name="password"
        required
        className="flex h-9 rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 w-2/3 my-4"
      />
      <Input
        type="password"
        name="confirm-password"
        placeholder="Confirm password"
        required
        className="flex h-9 rounded-md border border-input bg-transparent px-3 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 w-2/3 mb-4"
      />
      <Button className="w-2/3 bg-primary">Reset</Button>
    </form>

  </div>
</AuthLayout>
